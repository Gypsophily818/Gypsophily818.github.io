(this.webpackJsonpinterview=this.webpackJsonpinterview||[]).push([[0],{14:function(e,n,c){},16:function(e,n,c){},17:function(e,n,c){},18:function(e,n,c){},19:function(e,n,c){"use strict";c.r(n);var t=c(1),s=c.n(t),a=c(8),r=c.n(a),i=(c(14),c(3)),l=c(9),u=c(2),j=c(0);function o(e){return Object(j.jsx)("li",{className:"ccy-item",onClick:function(n){e.clickCCY(e.ccy)},children:e.ccy})}function b(e){var n=Object(t.useState)(""),c=Object(u.a)(n,2),s=c[0],a=c[1],r=Object(t.useState)(!1),i=Object(u.a)(r,2),l=i[0],b=i[1],d=Object(t.useRef)(null),p=Object(t.useRef)(null),f=Object(t.useRef)(null);function O(e){return e.toPrecision(6)}return Object(j.jsxs)("div",{className:"Task-header",children:[Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)("input",{className:"task",type:"text",placeholder:"\u4efb\u52a1",ref:d}),Object(j.jsx)("input",{className:"price",type:"text",placeholder:"\u4ef7\u683c",ref:p})]}),Object(j.jsxs)("div",{className:"select-box",children:[Object(j.jsx)("input",{className:"currency",value:s,onChange:function(e){e.target.value=s},type:"text",placeholder:"\u8d27\u5e01\u7c7b\u578b",ref:f}),Object(j.jsx)("span",{className:"icon",onClick:function(e){e.preventDefault(),b(!l)},children:"\u25bd"}),l?Object(j.jsx)("ul",{className:"select-CCY",children:e.CCY.map((function(e,n){return Object(j.jsx)(o,{ccy:e,showCCY:b,clickCCY:function(e){var n;n=e,b(!1),a(n)}},n)}))}):""]}),Object(j.jsx)("button",{className:"add",onClick:function(){!function(){var n=1*p.current.value,c=e.rate,t={};if(console.log(n),"number"!==typeof n||isNaN(n)||0===n||""===d.current.value||""===f.current.value)return alert("\u8bf7\u786e\u8ba4\u8f93\u5165\u683c\u5f0f~");t="RUB"===f.current.value?{id:Date.now(),finished:!1,plan:d.current.value,RUB:O(n),CNY:O(n/c.RUB.previous),USD:O(n/c.RUB.previous*c.USD.previous)}:"CNY"===f.current.value?{id:Date.now(),finished:!1,plan:d.current.value,RUB:O(n*c.RUB.previous),CNY:O(n),USD:O(n*c.USD.previous)}:{id:Date.now(),finished:!1,plan:d.current.value,RUB:O(n/c.USD.previous*c.RUB.previous),CNY:O(n/c.USD.previous),USD:O(n)},e.addPlan(t),p.current.value="",d.current.value="",f.current.value=""}()},children:"\u6dfb\u52a0"})]})}function d(e){return Object(j.jsxs)("div",{className:"rate-box",children:[Object(j.jsxs)("span",{className:"currency-rate",children:[(n=e,n.rate.RUB.previous.toFixed(3)),"\u20bd/\uffe5"]}),Object(j.jsxs)("span",{className:"currency-rate",children:[function(e){return(1/e.rate.USD.previous*e.rate.RUB.previous).toFixed(3)}(e),"\u20bd/$"]}),Object(j.jsxs)("span",{className:"currency-rate",children:[function(e){return(1/e.rate.USD.previous).toFixed(3)}(e),"\uffe5/$"]})]});var n}var p=c(4);function f(e){var n;return Object(j.jsxs)("li",{children:[Object(j.jsx)("input",{className:"checkbox",type:"checkbox",checked:e.finished,onChange:function(){e.clickPlan(e.id)}}),Object(j.jsx)("span",(n={className:"Plan-text"},Object(p.a)(n,"className",e.finished?"is-finished":""),Object(p.a)(n,"children",e.plan),n)),Object(j.jsxs)("div",{className:"plan-money",children:[Object(j.jsxs)("span",{className:"plan-RUB",children:["\u20bd",e.RUB]}),Object(j.jsxs)("span",{className:"plan-CNY",children:["\uffe5",e.CNY]}),Object(j.jsxs)("span",{className:"plan-USD",children:["$",e.USD]})]})]})}function O(e){var n=e.job,c=e.CCY,t=e.rate,s=e.clickPlan,a=Object(u.a)(c,3),r=a[0],l=a[1],o=a[2];function b(){return n.filter((function(e){return e.finished}))}function d(){return n.filter((function(e){return!e.finished}))}function p(e){return e.toPrecision(6)}function O(e){var n=0;if(0!==d().length){for(var c in d())n+=Number(d()[c][e]);return p(n)}}function h(e){var n=0;if(0!==b().length){for(var c in b())n+=Number(b()[c][e]);return p(n)}}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("ul",{className:"plan-box",children:[Object(j.jsx)("p",{className:"title-plan",children:"\u8ba1\u5212:"}),d().map((function(e){return Object(j.jsx)(f,Object(i.a)(Object(i.a)({},e),{},{clickPlan:s,rate:t}),e.id)})),Object(j.jsxs)("p",{className:"total",children:["\u5c06\u8981\u82b1\u8d39:",Object(j.jsxs)("span",{className:"plan-USD",children:["$",O(o)?O(o):0]}),Object(j.jsxs)("span",{className:"plan-CNY",children:["\uffe5",O(l)?O(l):0]}),Object(j.jsxs)("span",{className:"plan-RUB",children:["\u20bd",O(r)?O(r):0]})]})]}),Object(j.jsxs)("ul",{className:"plan-box",children:[Object(j.jsx)("p",{className:"title-plan",children:"\u5df2\u5b8c\u6210:"}),b().map((function(e){return Object(j.jsx)(f,Object(i.a)(Object(i.a)({},e),{},{clickPlan:s,rate:t}),e.id)})),Object(j.jsxs)("p",{className:"total",children:["\u4e00\u5171\u82b1\u4e86:",Object(j.jsxs)("span",{className:"plan-USD",children:["$",h(o)?h(o):0]}),Object(j.jsxs)("span",{className:"plan-CNY",children:["\uffe5",h(l)?h(l):0]}),Object(j.jsxs)("span",{className:"plan-RUB",children:["\u20bd",h(r)?h(r):0]})]})]})]})}c(16),c(17),c(18);var h=function(){var e=["RUB","CNY","USD"],n=Object(t.useState)({}),c=Object(u.a)(n,2),s=c[0],a=c[1],r=Object(t.useState)([]),o=Object(u.a)(r,2),p=o[0],f=o[1];return Object(t.useEffect)((function(){fetch("https://api.globus.furniture/forex").then((function(e){return e.json()})).then((function(e){console.log(e),a(e)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(b,{CCY:e,addPlan:function(e){return n=e,console.log(n),n?f([].concat(Object(l.a)(p),[n])):void 0;var n},rate:s}),s.USD&&Object(j.jsx)(d,{rate:s}),0!==p.length&&Object(j.jsx)(O,{job:p,clickPlan:function(e){f(p.map((function(n){return n.id===e?Object(i.a)(Object(i.a)({},n),{},{finished:!n.finished}):n})))},rate:s,CCY:e})]})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,20)).then((function(n){var c=n.getCLS,t=n.getFID,s=n.getFCP,a=n.getLCP,r=n.getTTFB;c(e),t(e),s(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),x()}},[[19,1,2]]]);
//# sourceMappingURL=main.76cc2ff2.chunk.js.map